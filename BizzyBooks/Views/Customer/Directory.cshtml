
@{
    ViewBag.Title = "Directory";
    Layout = null;
}

<div>
    <div class="content">
        <div class="panel lightblue bluebrdr marginbottom content">
            <div class="panel-heading">
                <strong class="heading">Directory</strong>

                <div class="btn-group pull-right">
                    <button type="button" class="btn btn-primary btn-sm" ng-click="AddDirectory()">Add</button>
                
                </div>
            </div>

            <div class="modal fade" id="AddDirectoryModal">
                <div class="modal-dialog" style="margin-top:100px">
                    <div class="modal-content content">
                        <div class="modal-header popupheader content" style="padding:10px 20px">
                            <button type="button" class="close" data-dismiss="modal" ng-click="close()" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            <div class="btn-group btn-toggle" style="top: 0px !important;margin-right: 5px;">
                                <button class="btn active btn-sm btn-default" ng-click="createAccountBtn()">Account</button>
                                <button class="btn btn-sm btn-default" ng-click="createGroupBtn()">Group</button>

                            </div>
                            <label permission="usertype:UO" style="color:forestgreen"><input type="checkbox" ng-model="visible" />:</label>
                        </div>
                        <div class="modal-body content" style="padding:10px 20px;">
                            <div class="content">
                                <div class="col-sm-5" style="padding-left:0px">
                                    <div class="col-sm-12 form-group padding5">
                                        <label><span class="red">*</span>Name</label>
                                        <input ng-model="accountName" type="text" class="form-control" />
                                    </div>
                                    </div>
                                <div class="col-sm-5">
                                    <div class="col-sm-12 form-group padding5">
                                        <label><span class="red">*</span>Under</label>
                                        <div>

                                            <ui-select ng-model="groupMasters.selected" ui-select-focuser id="countryCode" theme="selectize" on-select="getGroupData($select.selected)">

                                                <ui-select-match placeholder="Choose Group">
                                                    <span class="selectuiTable" style="width:100%" ng-click="clear($event, $select)">{{$select.selected.name || $select.search}}</span>
                                                </ui-select-match>
                                                <ui-select-choices repeat="person in groupMaster  | filter: $select.search">
                                                    <div>
                                                        <span style="color:black" ng-model="supplier1" ng-bind-html="person.name | highlight: $select.search">{{person.type}}</span>
                                                        <span style="color:forestgreen">({{person.type}})</span>

                                                    </div>


                                                </ui-select-choices>
                                            </ui-select>

                                        </div>
                                    </div>




                                </div>



                                

                                <div class="col-sm-12 padding" style="padding-top:20px !important">
                                    <ul class="nav nav-tabs tabnav my">
                                        <li class="active"><a href="#Basic" data-toggle="tab" style="padding:5px 43px !important"><i class="fa fa-info-circle"></i> Basic</a></li>
                                        <li><a href="#Address" data-toggle="tab" style="padding:5px 43px !important"><i class="fa fa-map-marker"></i> Address</a></li>
                                        <li><a href="#Attachments" data-toggle="tab" style="padding:5px 43px !important"><i class="fa fa-paperclip"></i> Attachments</a></li>
                                    </ul>

                                    <div class="tab-content tabcontent">
                                        <div id="Basic" class="tab-pane fade active in ">
                                            <div class="col-sm-4">
                                                <label class="tabheading">Proprietor Name</label>
                                                <input type="text" ng-model="propName" class="form-control" />
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="tabheading">Email</label>
                                                <input type="text" ng-model="email" class="form-control" />
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="tabheading">Phone</label>
                                                <input type="text" ng-model="phone" class="form-control" />
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="tabheading">Mobile</label>
                                                <input type="text" ng-model="mobile" class="form-control" />
                                            </div>




                                        </div>

                                        <div id="Address" class="tab-pane fade">
                                            <div class="col-sm-6 padding">
                                                <h4 class="tabheading">Billing Address</h4>
                                                <div class="form-group col-sm-12 padding5">
                                                    <textarea class="form-control" ng-model="street" placeholder="Street"></textarea>
                                                </div>
                                                <div class="col-sm-6 form-group padding5">

                                                    <div>

                                                        <ui-select ng-model="state.selected" ui-select-focuser id="countryCode" on-select="getcity($select.selected.ID)" theme="selectize">

                                                            <ui-select-match placeholder="State" ng-click="clear($event, $select)">{{$select.selected.Name}}</ui-select-match>
                                                            <ui-select-choices repeat="state in stateData  | filter: $select.search">
                                                                <div>
                                                                    <span style="color:black" ng-bind-html="state.Name | highlight: $select.search"></span>


                                                                </div>


                                                            </ui-select-choices>
                                                        </ui-select>

                                                    </div>
                                                </div>
                                                <div class="col-sm-6 form-group padding5">

                                                    <div>

                                                        <ui-select ng-model="city.selected" ui-select-focuser theme="selectize">

                                                            <ui-select-match placeholder="City" ng-click="clear($event, $select)"><b style="font-size:12px">{{$select.selected.city}}</b></ui-select-match>
                                                            <ui-select-choices repeat="city in cityData  | filter: $select.search">
                                                                <div>
                                                                    <span style="color:forestgreen" ng-bind-html="city.city | highlight: $select.search "></span>


                                                                </div>


                                                            </ui-select-choices>
                                                        </ui-select>

                                                    </div>
                                                </div>
                                                <div class="form-group col-sm-6 padding5">
                                                    <input type="text" class="form-control" ng-model="postalCode" placeholder="Postal Code" />
                                                </div>
                                                <div class="form-group col-sm-6 padding5">
                                                    <input type="text" class="form-control" ng-model="country" placeholder="Country" />
                                                </div>
                                            </div>

                                            <div class="col-sm-6 padding">
                                                <h4 class="tabheading">Shipping Address <small class="pull-right" style="line-height:13px"><input type="checkbox" ng-click="same()" ng-model="sameAs" class="pull-left" style="margin:0px" /> Same as billing address</small></h4>
                                                <div class="form-group col-sm-12 padding5">
                                                    <textarea class="form-control" ng-model="street1" placeholder="Street"></textarea>
                                                </div>
                                                <div class="form-group col-sm-6 padding5">
                                                    <input type="text" class="form-control" ng-model="city1" placeholder="City/Town" />
                                                </div>
                                                <div class="form-group col-sm-6 padding5">
                                                    <input type="text" class="form-control" ng-model="state1" placeholder="State" />
                                                </div>
                                                <div class="form-group col-sm-6 padding5">
                                                    <input type="text" class="form-control" ng-model="postalCode1" placeholder="Postal Code" />
                                                </div>
                                                <div class="form-group col-sm-6 padding5">
                                                    <input type="text" class="form-control" ng-model="country1" placeholder="Country" />
                                                </div>
                                            </div>


                                        </div>
                              
                                        <div id="Attachments" class="tab-pane fade">
                                            <div class="col-sm-12" style="margin:20px 0px">

                                                <div class="col-sm-12" style="padding:0px">


                                                    <div class="col-sm-5 padding5">
                                                        <input type="text" class="form-control" id="NameInput" placeholder="Title" />
                                                    </div>
                                                    <div class="col-sm-5 padding5">
                                                        <input type="file" class="filestyle" id="uploadBtn" data-buttonName="btn-info">
                                                    </div>

                                                    <div class="col-sm-2 padding5">
                                                        <button type="button" class="btn btn-sm btn-primary Attechmentdetail" style="width:100%">Add</button>
                                                    </div>


                                                    <div style="float:left; width:100%; padding:10px 10px; border-bottom:1px dotted #ccc;" class="filenameDiv">


                                                        <div class="col-sm-5 padding5" style="word-break:break-all">
                                                            <strong id="name"></strong>
                                                        </div>

                                                        <div class="col-sm-5 padding5 cursor" style="word-break:break-all">
                                                            <a id="type" class="cursor"></a>
                                                        </div>

                                                        <div class="col-sm-2">
                                                            <i class="fa fa-times pull-right text-danger" id="removeattachment"></i>
                                                        </div>



                                                    </div>


                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer content">
                                <button type="button" class="btn  btn-sm" data-dismiss="modal">Cancel</button>
                                <button type="button" class="btn  btn-sm" ng-click="createAccount()">Save changes</button>
                            </div>
                        </div>
                    </div>
                    <!-- addInventryModal -->
                    <div id="accountAlert" class="modal fade" role="dialog">
                        <div class="modal-admin">

                            <!-- Modal content-->
                            <div class="modal-content">

                                <div class="modal-body" style="background-color:#525DB0">
                                    <label style="color:#FFFFFF">Account all ready exists in your other company do you want to create new Or use existing</label>
                                </div>



                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary btn-sm btn bg-purple" data-dismiss="modal" ng-click="accountCreations()" style="float:left">No</button>
                                    <button type="button" class="btn btn-secondary btn-sm btn-success" data-dismiss="modal" ng-click="updateExistingAccount()">Yes</button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
            </div>
        <div class="col-sm-12 text-right" style="margin-top:10px">
            <i class="fa fa-print tableicon" title="Print list"></i>
            <i class="fa fa-clipboard tableicon" title="Export to excel"></i>
            <i class="fa fa-gear tableicon" title="Setting"></i>
        </div>
        <div class="col-sm-2" style="padding-right:0px">
            <div class="filterBox pull-left" style="padding:0px; margin-top:10px">
                <h3 style="padding:10px">Search Filter</h3>
                <div class="col-sm-12">
                    <div class="form-group">
                        <h4 class="tabheading font_11">Name</h4>
                        <ui-select ng-model="invoiceno.selected" id="countryCode"
                                   ui-select-focuser
                                   theme="selectize">
                            <ui-select-match width="100%" allow-clear="true" placeholder="">
                                <span class="selectuiTable" style="width:100%" ng-click="clear($event, $select)">
                                    {{ $select.selected._id.no || $select.search }}
                                </span>

                            </ui-select-match>

                            <ui-select-choices repeat="invoice in ItemList| unique:'_id.no'|filter: $select.search ">
                                <div>
                                    <span style="color:forestgreen">{{invoice._id.no}}</span>
                                </div>


                            </ui-select-choices>
                        </ui-select>
                    </div>
                    <div class="form-group">
                        <h4 class="tabheading font_11">Mobile</h4>
                        <ui-select ng-model="invoiceno.selected" id="countryCode"
                                   ui-select-focuser
                                   theme="selectize">
                            <ui-select-match width="100%" allow-clear="true" placeholder="">
                                <span class="selectuiTable" style="width:100%" ng-click="clear($event, $select)">
                                    {{ $select.selected._id.no || $select.search }}
                                </span>

                            </ui-select-match>

                            <ui-select-choices repeat="invoice in ItemList| unique:'_id.no'|filter: $select.search ">
                                <div>
                                    <span style="color:forestgreen">{{invoice._id.no}}</span>
                                </div>


                            </ui-select-choices>
                        </ui-select>
                    </div>

                    <div class="form-group">
                        <h4 class="tabheading font_11">Email</h4>
                        <ui-select ng-model="godown.selected" id="countryCode"
                                   ui-select-focuser
                                   theme="selectize">
                            <ui-select-match width="100%" allow-clear="true" placeholder="">
                                <span class="selectuiTable" style="width:100%" ng-click="clear($event, $select)">
                                    {{ $select.selected._id.GODOWN || $select.search }}
                                </span>

                            </ui-select-match>

                            <ui-select-choices repeat="invoice in ItemList| unique:'_id.GODOWN'|filter: $select.search ">
                                <div>
                                    <span style="color:forestgreen">{{invoice._id.GODOWN}}</span>
                                </div>


                            </ui-select-choices>
                        </ui-select>
                    </div>




                </div>
                <hr style="margin:0px 0px 10px 0px" />
                <span class="pull-right" style="padding:10px">
                    <button class="btn btn-sm btn-default" ng-click="clearFilter();" type="button">Clear</button>
                    <button class="btn btn-sm btn-primary" ng-click="applyFilter();" type="button">Search</button>
                </span>
            </div>
            </div>
            <div class="col-sm-10 padding5">
               
                <div class="col-sm-12">
                    <table class="table-bordered table-condensed table-hover" fixed-header id="ItemTable" style="margin-top:10px;width:100%; height:450px; font-size:12px;">
                        <thead>
                            <tr>
                                <th>NAME</th>
                                <th>MOBILE</th>
                                <th>Email</th>
                                <th>GROUP</th>
                                <th>PROPRIETOR</th>
                                <th style="width:80px">ACTION</th>

                            </tr>
                        </thead>
                        <tbody>


                            <tr>
                                <td> Pankaj Sharma</td>
                                <td> +91 9876543212</td>
                                <td> Pankaj@gmail.com</td>
                                <td> -</td>
                                <td> -</td>
                                <td>
                                    <button type="button" class="editbtn">View</button>
                                    <class class="linkseparator" style="margin-top:4px; margin-right:0px">|</class>
                                    <div class="btn-group editcaret">
                                        <i class="fa fa-caret-down cursor" dropdown-toggle" data-toggle="dropdown"></i>
                                        <ul class="dropdown-menu editdrpdwn" role="menu" style="top:18px">
                                            <li><a href="#/Customer/Invoice">Edit</a></li>
                                            <li><a href="#/Customer/Invoice">Move</a></li>
                                        </ul>

                                    </div>
                                </td>

                            </tr>




                        </tbody>

                    </table>

                </div>
            </div>










        </div>

</div>

